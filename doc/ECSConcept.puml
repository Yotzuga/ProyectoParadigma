@startuml ECSConcept
!theme plain

package "Traditional OOP" {
    class "Player" as P {
        - x: float
        - y: float
        - vx: float
        - vy: float
        - health: int
        - maxHealth: int
        - velocity: 1.0
        --
        + Update()
        + Render()
        + TakeDamage()
        + Move()
        + CheckCollisions()
    }
    
    class "Enemy" as E {
        - x: float
        - y: float
        - health: int
        - targetX: float
        - targetY: float
        --
        + Update()
        + Render()
        + AI()
        + Move()
        + Attack()
    }
    
    note right of P
        ❌ Problemas:
        - Cada clase repite Move()
        - Difícil de compartir lógica
        - Herencia profunda
        - Cambios afectan toda jerarquía
        - Tightly coupled
    end note
}

package "Entity Component System" {
    class "Entity" as ENT {
        - id: int
        - components: []
        --
        + AddComponent()
        + GetComponent()
    }
    
    class "TransformComponent" as TC {
        - x: float
        - y: float
        - vx: float
        - vy: float
    }
    
    class "HealthComponent" as HC {
        - currentHealth: int
        - maxHealth: int
    }
    
    class "SpriteComponent" as SC {
        - textureId: int
        - spriteIdx: int
    }
    
    class "PlayerComponent" as PC {
        - inputEnabled: bool
    }
    
    class "EnemyComponent" as EC {
        - state: enum
        - pathIndex: int
    }
    
    note right of ENT
        ✓ Beneficios:
        - Flexibilidad total
        - Composición sobre herencia
        - Reutilización componentes
        - Fácil de agregar features
        - Loosely coupled
        - Data-oriented
    end note
}

== COMPARACIÓN ACTUALIZACIÓN ==

note left of P
    Player::Update() {
        // Movimiento
        // Colisiones
        // Render
        // Input
        // Daño
        Todo mezclado
    }
end note

note right of ENT
    Separado por sistemas:
    - MovementSystem (Transform)
    - CollisionSystem (Collider)
    - RenderSystem (Sprite)
    - InputSystem (Player)
    - DamageSystem (Health)
    
    Cada uno actualiza su aspecto
end note

@enduml
